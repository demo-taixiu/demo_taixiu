<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T√†i X·ªâu Casino Room</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:radial-gradient(circle,#1e4d2b,#0c1f13);
    color:white;
}

/* HEADER */
.topbar{
    display:flex;
    justify-content:space-between;
    padding:10px;
    background:#111;
    font-size:14px;
}

/* MARQUEE */
.marquee{
    background:#000;
    color:gold;
    padding:5px;
    overflow:hidden;
    white-space:nowrap;
}
.marquee span{
    display:inline-block;
    padding-left:100%;
    animation:mar 12s linear infinite;
}
@keyframes mar{
    from{transform:translateX(0)}
    to{transform:translateX(-100%)}
}

/* TIMER */
.timer{
    text-align:center;
    font-size:22px;
    font-weight:bold;
}
.timer.red{color:red}

/* BOARD */
.board{
    display:flex;
    justify-content:space-around;
    margin-top:10px;
}

.side{
    width:45%;
    padding:20px;
    text-align:center;
    border-radius:15px;
    font-size:22px;
    font-weight:bold;
    cursor:pointer;
    position:relative;
}

.tai{background:#b30000;}
.xiu{background:#0033cc;}

.side.active{
    box-shadow:0 0 15px gold;
}

/* GOLD BORDER EFFECT */
.side::after{
    content:"";
    position:absolute;
    inset:0;
    border-radius:15px;
    border:3px solid gold;
    opacity:0;
    animation:glow 2s linear infinite;
}
.side.active::after{opacity:1;}

@keyframes glow{
    0%{box-shadow:0 0 5px gold}
    50%{box-shadow:0 0 20px gold}
    100%{box-shadow:0 0 5px gold}
}

/* DICE */
.dice-area{text-align:center;margin:20px 0}
.dice{font-size:50px;margin:0 10px;transition:1s}

/* ROADMAP */
.roadmap{
    display:grid;
    grid-template-rows:repeat(6,18px);
    grid-auto-flow:column;
    gap:2px;
    margin:10px;
}
.dot{
    width:18px;
    height:18px;
    border-radius:50%;
}
.redDot{background:red}
.blueDot{background:blue}

/* ONLINE */
.online{font-size:13px;text-align:center}

/* FAKE BET LIST */
.fakeList{
    max-height:80px;
    overflow:hidden;
    font-size:12px;
    padding:5px;
}

/* CHIP */
.chips{
    position:fixed;
    bottom:0;
    width:100%;
    background:#111;
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    padding:8px;
    gap:6px;
}
.chip{
    background:gold;
    color:black;
    padding:6px 10px;
    border-radius:50px;
    font-weight:bold;
    cursor:pointer;
}
.chip.active{background:red;color:white}
.scene{
  display:flex;
  justify-content:center;
  gap:25px;
  perspective:800px;
}

.cube{
  width:60px;
  height:60px;
  position:relative;
  transform-style:preserve-3d;
  transition:1.2s cubic-bezier(.17,.67,.83,.67);
}

.cube div{
  position:absolute;
  width:60px;
  height:60px;
  background:white;
  border:2px solid #000;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:20px;
  font-weight:bold;
}

/* 6 m·∫∑t */
.front{transform:rotateY(0deg) translateZ(30px);}
.back{transform:rotateY(180deg) translateZ(30px);}
.right{transform:rotateY(90deg) translateZ(30px);}
.left{transform:rotateY(-90deg) translateZ(30px);}
.top{transform:rotateX(90deg) translateZ(30px);}
.bottom{transform:rotateX(-90deg) translateZ(30px);}

/* TAM HOA EFFECT */
.jackpot{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:radial-gradient(circle,gold,orange,black);
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:40px;
  font-weight:bold;
  color:#000;
  animation:flash 0.3s infinite alternate;
  z-index:999;
}
@keyframes flash{
  from{opacity:0.7}
  to{opacity:1}
}
</style>
</head>
<body>

<div class="topbar">
<div>üí∞ S·ªë d∆∞: <span id="balance">10000000</span></div>
<div>üë• <span id="online">500</span> online</div>
</div>

<div class="marquee">
<span id="topWinText">üèÜ Minh th·∫Øng 25,000,000</span>
</div>

<div class="timer" id="timer">30</div>

<div class="board">
<div class="side tai" onclick="selectSide('tai',this)">T√ÄI</div>
<div class="side xiu" onclick="selectSide('xiu',this)">X·ªàU</div>
</div>

<div class="dice-area">
  <div class="scene">
    <div class="cube" id="cube1"></div>
    <div class="cube" id="cube2"></div>
    <div class="cube" id="cube3"></div>
  </div>
</div>

<div class="roadmap" id="roadmap"></div>

<div class="fakeList" id="fakeList"></div>

<div class="chips" id="chips"></div>

<script>

let balance=10000000;
let selected=null;
let chipValue=0;
let time=30;
let lock=false;
let roadData=JSON.parse(localStorage.getItem("roadData"))||[];

const chips=[5000,10000,50000,200000,500000,1000000,5000000,10000000,100000000];

chips.forEach(val=>{
    let c=document.createElement("div");
    c.className="chip";
    c.innerText=format(val);
    c.onclick=()=>{
        document.querySelectorAll(".chip").forEach(x=>x.classList.remove("active"));
        c.classList.add("active");
        chipValue=val;
    }
    document.getElementById("chips").appendChild(c);
});

function format(n){
    if(n>=1000000) return (n/1000000)+"TR";
    if(n>=1000) return (n/1000)+"K";
    return n;
}

function selectSide(side,el){
    if(lock||!chipValue) return;
    selected=side;
    document.querySelectorAll(".side").forEach(s=>s.classList.remove("active"));
    el.classList.add("active");
}

setInterval(()=>{
    time--;
    if(time<=5){lock=true;document.getElementById("timer").classList.add("red")}
    if(time<=0){runGame();time=30;lock=false;document.getElementById("timer").classList.remove("red")}
    document.getElementById("timer").innerText=time;
},1000);

function roll(){return Math.floor(Math.random()*6)+1;}

function runGame(){
    let a=roll(),b=roll(),c=roll();
    let total=a+b+c;

    animateDice(a,b,c);

    if(selected){
        let win=(selected=="tai"&&total>=11)||(selected=="xiu"&&total<=10);
        if(win){balance+=chipValue;}
        else{balance-=chipValue;}
    }

    document.getElementById("balance").innerText=balance.toLocaleString();

    let result=total>=11?"T":"X";
    roadData.push(result);
    if(roadData.length>100) roadData.shift();
    localStorage.setItem("roadData",JSON.stringify(roadData));
    updateRoadmap();

    selected=null;
}

function animateDice(a,b,c){
    document.getElementById("d1").innerText=a;
    document.getElementById("d2").innerText=b;
    document.getElementById("d3").innerText=c;
    document.querySelectorAll(".dice").forEach(d=>{
        d.style.transform="rotateY(360deg)";
        setTimeout(()=>d.style.transform="rotateY(0deg)",1000);
    });
}

function updateBigRoad(){
  let map=document.getElementById("roadmap");
  map.innerHTML="";
  let col=0,row=0;
  let last=null;

  roadData.forEach(r=>{
    if(r!==last){row=0;col++;}
    else{row++;}

    let dot=document.createElement("div");
    dot.className="dot "+(r=="T"?"redDot":"blueDot");
    dot.style.gridColumn=col;
    dot.style.gridRow=row+1;
    map.appendChild(dot);

    last=r;
  });
}

/* FAKE ONLINE */
setInterval(()=>{
    document.getElementById("online").innerText=450+Math.floor(Math.random()*50);
},2000);

/* TOP WIN */
setInterval(()=>{
    let names=["Minh","Huy","An","Long","Khoa","Tu·∫•n"];
    let name=names[Math.floor(Math.random()*names.length)];
    let win=Math.floor(Math.random()*30000000);
    document.getElementById("topWinText").innerText=
    "üèÜ "+name+" th·∫Øng "+win.toLocaleString();
},4000);

/* FAKE BET AVATAR */
setInterval(()=>{
    let avatars=["üßë","üë®","üë©","üë¶","üëß"];
    let avatar=avatars[Math.floor(Math.random()*avatars.length)];
    let money=Math.floor(Math.random()*5000000);
    document.getElementById("fakeList").innerHTML=
    avatar+" c∆∞·ª£c "+money.toLocaleString()+"<br>"+document.getElementById("fakeList").innerHTML;
},2000);

function createCube(id){
  let cube=document.getElementById(id);
  cube.innerHTML=`
    <div class="front">1</div>
    <div class="back">6</div>
    <div class="right">3</div>
    <div class="left">4</div>
    <div class="top">5</div>
    <div class="bottom">2</div>
  `;
}
createCube("cube1");
createCube("cube2");
createCube("cube3");

function rotateCube(cube,value){
  let rotate="";
  switch(value){
    case 1: rotate="rotateX(0deg) rotateY(0deg)"; break;
    case 2: rotate="rotateX(90deg)"; break;
    case 3: rotate="rotateY(-90deg)"; break;
    case 4: rotate="rotateY(90deg)"; break;
    case 5: rotate="rotateX(-90deg)"; break;
    case 6: rotate="rotateY(180deg)"; break;
  }
  cube.style.transform=rotate;
}
</script>
</body>
</html>
