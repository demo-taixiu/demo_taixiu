<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T√†i X·ªâu Pro</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial;
  background:radial-gradient(circle,#184d2b,#0b1f12);
  color:white;
}

/* TOP */
.top{
  display:flex;
  justify-content:space-between;
  padding:8px 12px;
  background:#111;
  font-size:14px;
}

.status{
  text-align:center;
  font-size:13px;
  padding:4px;
  color:gold;
}

/* DICE */
.dice{
  text-align:center;
  font-size:38px;
  letter-spacing:10px;
  margin:10px 0;
}

/* BOARD */
.board{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:6px;
  padding:8px;
}

.cell{
  background:rgba(255,255,255,0.1);
  border:1px solid rgba(255,255,255,0.3);
  border-radius:8px;
  text-align:center;
  padding:12px 5px;
  font-size:13px;
  position:relative;
}

.cell.win{
  border:2px solid gold;
  box-shadow:0 0 10px gold;
}

/* CHIP N·ªîI */
.chip-bet{
  position:absolute;
  bottom:4px;
  right:4px;
  background:gold;
  color:black;
  width:38px;
  height:38px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:10px;
  font-weight:bold;
}

/* CHIPS */
.chips{
  position:fixed;
  bottom:0;
  width:100%;
  background:#111;
  display:flex;
  justify-content:center;
  gap:6px;
  padding:8px;
}

.chip{
  background:gold;
  color:black;
  padding:6px 10px;
  border-radius:50px;
  font-weight:bold;
  font-size:13px;
}

.chip.active{
  background:red;
  color:white;
}

/* ROADMAP */
.road{
  display:flex;
  gap:4px;
  overflow-x:auto;
  padding:5px 8px;
}

.dot{
  width:16px;
  height:16px;
  border-radius:50%;
}

.dot.tai{background:red}
.dot.xiu{background:blue}

/* MONEY FLY */
.fly{
  position:absolute;
  color:gold;
  font-weight:bold;
  animation:fly 1s forwards;
}
@keyframes fly{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-40px);opacity:0}
}
</style>
</head>
<body>

<div class="top">
<div>üí∞ <span id="balance">5,000,000</span></div>
<div>‚è≥ <span id="timer">20</span></div>
</div>

<div class="status" id="status">ƒêANG M·ªû C∆Ø·ª¢C</div>

<div class="dice" id="dice">üé≤ üé≤ üé≤</div>

<div class="road" id="road"></div>

<div class="board" id="board"></div>

<div class="chips" id="chips"></div>

<script>
let balance=5000000;
let chipValue=0;
let timer=20;
let phase="bet";
let bets={};
let history=[];

const payout={
  tai:1,
  xiu:1
};

const chipList=[5000,10000,50000,200000,500000,1000000];

chipList.forEach(val=>{
  let c=document.createElement("div");
  c.className="chip";
  c.innerText=val/1000+"K";
  c.onclick=()=>{
    document.querySelectorAll(".chip").forEach(x=>x.classList.remove("active"));
    c.classList.add("active");
    chipValue=val;
  }
  chips.appendChild(c);
});

/* CREATE BOARD */
["tai","xiu"].forEach(type=>{
  let cell=document.createElement("div");
  cell.className="cell";
  cell.innerHTML= type==="tai" ? "T√ÄI<br>1:1" : "X·ªàU<br>1:1";
  cell.onclick=()=>placeBet(type,cell);
  board.appendChild(cell);
});

/* PLACE BET */
function placeBet(type,cell){
  if(phase!=="bet" || !chipValue) return;
  if(balance<chipValue) return;

  balance-=chipValue;
  bets[type]=(bets[type]||0)+chipValue;

  updateBalance();

  cell.querySelector(".chip-bet")?.remove();
  let chip=document.createElement("div");
  chip.className="chip-bet";
  chip.innerText=(bets[type]/1000)+"K";
  cell.appendChild(chip);
}

function updateBalance(){
  balanceEl.innerText=balance.toLocaleString();
}

/* TIMER */
setInterval(()=>{
  timer--;
  timerEl.innerText=timer;
  if(timer<=0){
    runGame();
    timer=20;
  }
},1000);

const balanceEl=document.getElementById("balance");
const timerEl=document.getElementById("timer");

/* GAME */
function roll(){return Math.floor(Math.random()*6)+1;}

function runGame(){
  phase="roll";
  status.innerText="ƒêANG M·ªû K·∫æT QU·∫¢";

  let a=roll(),b=roll(),c=roll();
  dice.innerText=a+" "+b+" "+c;
  let total=a+b+c;

  let result = total>=11 ? "tai" : "xiu";
  history.push(result);
  updateRoad();

  let win=0;
  if(bets[result]){
    win=bets[result]*2;
    balance+=win;
    showFly("+"+win.toLocaleString());
  }

  highlight(result);

  setTimeout(()=>{
    bets={};
    document.querySelectorAll(".chip-bet").forEach(c=>c.remove());
    document.querySelectorAll(".cell").forEach(c=>c.classList.remove("win"));
    phase="bet";
    status.innerText="ƒêANG M·ªû C∆Ø·ª¢C";
    updateBalance();
  },2000);
}

function highlight(type){
  let cell=[...document.querySelectorAll(".cell")]
    .find(c=>c.innerHTML.toLowerCase().includes(type));
  cell.classList.add("win");
}

function updateRoad(){
  road.innerHTML="";
  history.slice(-20).forEach(r=>{
    let dot=document.createElement("div");
    dot.className="dot "+r;
    road.appendChild(dot);
  });
}

function showFly(text){
  let f=document.createElement("div");
  f.className="fly";
  f.innerText=text;
  f.style.left="50%";
  f.style.top="40%";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1000);
}
</script>

</body>
</html>
